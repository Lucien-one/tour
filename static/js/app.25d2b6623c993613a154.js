webpackJsonp([1],{"3vyP":function(t,e){},"5OHe":function(t,e){},"6Rd8":function(t,e){},"7SK5":function(t,e){},"9n10":function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("keep-alive",[e("router-view")],1)],1)},staticRenderFns:[]};var a=i("VU/8")({name:"App"},n,!1,function(t){i("nWgy")},null,null).exports,r=i("/ocq"),c=i("Dd8w"),o=i.n(c),l=i("kciL"),u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[this._m(0),this._v(" "),this._m(1),this._v(" "),e("router-link",{attrs:{to:"/city"}},[e("div",{staticClass:"right"},[this._v("\n            "+this._s(this.$store.state.city)+"\n            "),e("span",{staticClass:"iconfont"},[this._v("")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left"},[e("span",{staticClass:"iconfont"},[this._v("")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[e("span",{staticClass:"iconfont"},[this._v("")]),this._v("\n                请输入城市/景点/游玩主题\n        ")])}]};var d=i("VU/8")({name:"HomeHeader"},u,!1,function(t){i("RhNb")},"data-v-10124ae6",null).exports,h=i("I29D"),v=i.n(h),m={name:"HomeSwipper",props:{list:Array}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"swipper"},[e("mt-swipe",{attrs:{auto:4e3}},this._l(this.list,function(t){return e("mt-swipe-item",{key:t.id},[e("a",{attrs:{href:""}},[e("img",{attrs:{src:t.imgUrl,alt:""}})])])}),1)],1)},staticRenderFns:[]};var p=i("VU/8")(m,f,!1,function(t){i("nTFq")},"data-v-3728dffa",null).exports,_={name:"HomeIconList",props:{list:Array},computed:{pages:function(){var t=[];return this.list.forEach(function(e,i){var s=Math.floor(i/8);t[s]||(t[s]=[]),t[s].push(e)}),t}}},C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"iconList"},[i("mt-swipe",{attrs:{auto:0}},t._l(t.pages,function(e,s){return i("mt-swipe-item",{key:s},t._l(e,function(e){return i("div",{key:e.id,staticClass:"icon"},[i("div",{staticClass:"icon-img"},[i("img",{attrs:{src:e.imgUrl,alt:""}})]),t._v(" "),i("div",{staticClass:"icon-desc"},[t._v(t._s(e.desc))])])}),0)}),1)],1)},staticRenderFns:[]};var y=i("VU/8")(_,C,!1,function(t){i("jBVN")},"data-v-cd36f4c2",null).exports,w={name:"HomeRecommend",props:{list:Array}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recommend"},[i("h3",{staticClass:"title1"},[t._v("热销推荐")]),t._v(" "),i("div",{staticClass:"content-list"},[i("mt-swipe",{attrs:{auto:4e3}},t._l(t.list,function(e){return i("mt-swipe-item",{key:e.id},[i("div",{staticClass:"left"},[i("img",{attrs:{src:e.imgUrl,alt:""}})]),t._v(" "),i("div",{staticClass:"right"},[i("p",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"desc"},[t._v(t._s(e.desc))]),t._v(" "),i("a",{staticClass:"detail",attrs:{href:""}},[t._v("查看详情")])])])}),1)],1)])},staticRenderFns:[]};var k=i("VU/8")(w,g,!1,function(t){i("xZ5t")},"data-v-6fc8e3f4",null).exports,b={name:"HomeWeekend",props:{list:Array}},L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weekend"},[i("h3",{staticClass:"title1"},[t._v("周末去哪")]),t._v(" "),i("div",{staticClass:"content-list"},[i("mt-swipe",{attrs:{auto:4e3}},t._l(t.list,function(e){return i("mt-swipe-item",{key:e.id},[i("div",{staticClass:"left"},[i("img",{attrs:{src:e.imgUrl,alt:""}})]),t._v(" "),i("div",{staticClass:"right"},[i("p",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"desc"},[t._v(t._s(e.desc))]),t._v(" "),i("a",{staticClass:"detail",attrs:{href:""}},[t._v("查看详情")])])])}),1)],1)])},staticRenderFns:[]};var $={name:"Home",components:{HomeHeader:d,HomeSwipper:p,HomeIconList:y,HomeRecommend:k,HomeWeekend:i("VU/8")(b,L,!1,function(t){i("vTe0")},"data-v-7b961afa",null).exports},data:function(){return{swipeList:[],iconList:[],recommendList:[],weekendList:[]}},computed:o()({},Object(l.b)(["city"])),mounted:function(){this.getHomeData()},activated:function(){this.lastCity!==this.city&&(this.lastCity=this.city,thsi.getHomeData())},methods:{getHomeData:function(){var t=this;v.a.get("/tour/static/api/index.json").then(function(e){console.log(e.data.data);var i=e.data.data;t.swipeList=i.swiperList,t.iconList=i.iconList,t.recommendList=i.recommendList,t.weekendList=i.weekendList})}}},H={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("home-header"),t._v(" "),i("home-swipper",{attrs:{list:t.swipeList}}),t._v(" "),i("home-icon-list",{attrs:{list:t.iconList}}),t._v(" "),i("home-recommend",{attrs:{list:t.recommendList}}),t._v(" "),i("home-weekend",{attrs:{list:t.weekendList}})],1)},staticRenderFns:[]};var x=i("VU/8")($,H,!1,function(t){i("aK8U")},"data-v-309108be",null).exports,S={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("router-link",{attrs:{to:"/"}},[e("span",{staticClass:"iconfont header-back"},[this._v("")])]),this._v("\n    城市选择\n    \n")],1)},staticRenderFns:[]};var U=i("VU/8")({name:"CityHeader"},S,!1,function(t){i("6Rd8")},"data-v-4b7cb432",null).exports,R={name:"CitySearch",data:function(){return{keyword:"",list:[],timer:null}},props:{cities:Object},watch:{keyword:function(){var t=this,e=[];this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){for(var i in t.cities)t.cities[i].forEach(function(i){(i.name.indexOf(t.keyword)>-1||i.spell.indexOf(t.keyword)>-1)&&e.push(i)});t.list=e},1e3)}},methods:{handleCityClick:function(t){this.$store.commit("changeCity",t),this.$router.push("/")}}},T={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"search-input",attrs:{type:"text",placeholder:"输入城市名或者拼音"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.keyword,expression:"keyword"}],staticClass:"search-content"},[i("ul",t._l(t.list,function(e){return i("li",{key:e.id,staticClass:"search-item border-bottom",on:{click:function(i){return t.handleCityClick(e.name)}}},[t._v("\n                "+t._s(e.name)+"\n            ")])}),0)])])},staticRenderFns:[]};var E=i("VU/8")(R,T,!1,function(t){i("3vyP")},"data-v-93f62bce",null).exports,F=i("/QXl"),V={name:"CityList",props:{cities:Object,hot:Array,letter:String},mounted:function(){var t=this.$refs.wrapper;this.scroll=new F.a(t)},watch:{letter:function(){this.scroll.scrollToElement(this.$refs[this.letter][0])}},methods:{handleCityClick:function(t){this.$store.commit("changeCity",t)}}},A={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrapper",staticClass:"city-list"},[i("div",{staticClass:"box"},[i("div",{staticClass:"current"},[i("h2",{staticClass:"title"},[t._v("当前城市")]),t._v(" "),i("div",{staticClass:"button-list"},[i("div",{staticClass:"button-wrapper"},[i("div",{staticClass:"button"},[t._v("\n                        "+t._s(this.$store.state.city)+"\n                    ")])])])]),t._v(" "),i("div",{staticClass:"hot"},[i("h2",{staticClass:"title"},[t._v("热门城市")]),t._v(" "),i("div",{staticClass:"button-list"},t._l(t.hot,function(e,s){return i("div",{key:s,staticClass:"button-wrapper",on:{click:function(i){return t.handleChangeCity(e.name)}}},[i("div",{staticClass:"button"},[t._v(t._s(e.name))])])}),0)]),t._v(" "),i("div",{staticClass:"list"},[i("h2",{staticClass:"title"},[t._v("城市列表")]),t._v(" "),t._l(t.cities,function(e,s){return i("div",{key:s,ref:s,refInFor:!0,staticClass:"list"},[i("div",{staticClass:"title border-topbottom"},[t._v(t._s(s))]),t._v(" "),i("div",{staticClass:"item-list"},t._l(e,function(e){return i("div",{key:e.id,staticClass:"item border-topbottom",on:{click:function(i){return t.handleCityClick(e.name)}}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])}),0)])})],2)])])},staticRenderFns:[]};var N=i("VU/8")(V,A,!1,function(t){i("zKNB")},"data-v-1e747f8a",null).exports,j={name:"CityAlphabet",props:{cities:Object},computed:{letters:function(){var t=[];for(var e in this.cities)t.push(e);return t}},updated:function(){this.startY=this.$refs.A[0].offsetTop},methods:{handleLetter:function(t){this.$emit("change",t.target.innerText)},handleTouchStart:function(){this.touchStatus=!0},handleTouchMove:function(t){var e=this;this.touchStatus&&(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){var i=t.touches[0].clientY-150,s=Math.floor((i-e.startY)/20);console.log(s),s>=0&&s<e.letters.length&&e.$emit("change",e.letters[s])}))},handleTouched:function(){this.moveStatus=!1}}},I={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"alphabet"},[i("ul",{staticClass:"list"},t._l(t.cities,function(e,s){return i("li",{key:s,ref:s,refInFor:!0,staticClass:"item",on:{click:t.handleLetter,touchstart:function(e){return e.preventDefault(),t.handleTouchStart(e)},touchmove:t.handleTouchMove,touchend:t.handleTouched}},[t._v("\n            "+t._s(s)+"\n        ")])}),0)])},staticRenderFns:[]};var O={name:"City",components:{CityHeader:U,CitySearch:E,CityList:N,CityAlphabet:i("VU/8")(j,I,!1,function(t){i("aKUB")},"data-v-bd0ff424",null).exports},data:function(){return{cities:{},hotCities:[],letter:""}},mounted:function(){this.getCityInfo()},methods:{getCityInfo:function(){var t=this;v.a.get("/tour/static/api/city.json").then(function(e){var i=e.data.data;t.cities=i.cities,t.hotCities=i.hotCities})},receive:function(t){this.letter=t}}},K={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"city"},[i("city-header"),t._v(" "),i("city-search"),t._v(" "),i("div",{staticClass:"saveCity"}),t._v(" "),i("city-list",{attrs:{cities:t.cities,hot:t.hotCities,letter:t.letter}}),t._v(" "),i("city-alphabet",{attrs:{cities:t.cities},on:{change:t.receive}})],1)},staticRenderFns:[]};var D=i("VU/8")(O,K,!1,function(t){i("7SK5")},"data-v-0d4b45c8",null).exports;s.default.use(r.a);var B=new r.a({routes:[{path:"/",name:"Home",component:x},{path:"/city",name:"City",component:D}]}),q=(i("9n10"),i("muQq"),i("iDdd")),M=i.n(q);s.default.use(l.a);try{localStorage.city&&localStorage.city}catch(t){console.log(t)}var W=new l.a.Store({state:{city:"北京"},mutations:{changeCity:function(t,e){t.city=e;try{localStorage.city=e}catch(t){}}}}),P=(i("5OHe"),i("wSez"));s.default.component(P.Swipe.name,P.Swipe),s.default.component(P.SwipeItem.name,P.SwipeItem),s.default.config.productionTip=!1,M.a.attach(document.body),new s.default({el:"#app",router:B,store:W,components:{App:a},template:"<App/>"})},RhNb:function(t,e){},aK8U:function(t,e){},aKUB:function(t,e){},jBVN:function(t,e){},muQq:function(t,e){},nTFq:function(t,e){},nWgy:function(t,e){},vTe0:function(t,e){},xZ5t:function(t,e){},zKNB:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.25d2b6623c993613a154.js.map